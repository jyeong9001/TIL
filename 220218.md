# Heroku Error

헤로쿠(Heroku)는 다양한 프로그래밍 언어를 지원하는 PaaS(Platform as a Service)이다. 2007년 처음 개발되었을 때는 루비 언어만 지원했지만 현재는 Java, Node, Scala, Python, Go 등의 다양한 언어를 지원하고 있다. 헤로쿠는 어플리케이션 배포를 무료로 진행할 수 있고, 빠르게 배포를 진행할 수 있다는 점에서 MVP테스트, 발표용, 포트폴리오용 등의 간단한 작업을 진행할 때 있어 유용하게 사용할 수 있다.

Heroku는 H로 시작하는 에러 코드를 가지는데 Error H10이 발생하였다.

```
at=error code=H10 desc="App crashed" method=GET path="/"
```

stackoverflow에서 추천하는 방법을 몇 가지 시도해서 해결할 수 있었다.

1. heroku restart
2. package.json scripts에 heroku-postbuild 를 추가

```
 "scripts": {
"dev": "react-scripts start",
"start": "serve -s build",
"build": "react-scripts build",
"heroku-postbuild": "npm run build"}
```

3. package.json 에 engines를 추가

```
"engines": {
    "node": "12.7.0",
    "npm": "6.14.4"
},
```

4. heroku buildpack을 변경

> 빌드팩(Buildpack)은 애셋(asset) 데이터를 생성하거나 소스코드를 컴파일하는, 빌드(build) 과정을 담당하는 Heroku의 도구 세트

```
heroku buildpacks:set https://github.com/MartinNowak/heroku-buildpack-d
```

# 소켓(Socket) 포트(Port)

네트워크에 연결된 모든 종류의 장치를 노드(Node)라고 부르는데, 노드 중에서도 네트워크 주소(IP 주소)가 할당된 애들을 호스트(Host)라고 부른다. 스마트폰이든 데스크톱이든 노트북이든 인터넷에 연결돼 있으면 다 호스트라고 보면 된다. 이 호스트들끼리 서로 데이터를 주고받는다. 그래서 네트워크 공간 상에서 데이터를 주고받는다는 것은, 엄밀히 말하면 호스트의 프로세스까지 데이터가 오고 감을 의미한다.
<br/>
'데이터는 프로세스 레벨에서 주고받는다'라는 것을 이해했고, '호스트에서는 여러 프로세스가 동시에 동작한다'라는 것을 이해했다면, '데이터가 네트워크를 타고 목적지 호스트에 도착했다고 끝이 아니라, 그 호스트에서 동작하는 여러 프로세스 중에 실제로 이 데이터를 받아야 하는 프로세스까지 전달되야 한다'라는 것도 이해했을 것이다. 이를 위해 포트가 등장한다. **포트(Port)는, 네트워크를 통해 데이터를 주고받는 프로세스를 식별하기 위해 호스트 내부적으로 프로세스가 할당받는 고유한 값이다.**
이 값은 숫자로 표현되기 때문에, 포트 넘버(Port number)라고도 한다. 데이터를 담고 있는 편지봉투에 목적지의 포트가 28080으로 적혀있다면, 목적지 호스트에 도착한 뒤에 해당 호스트에서 28080 포트를 할당받은 프로세스를 찾아서 데이터를 전달해야 한다.
<br/>
**소켓(Socket)은, 프로세스가 네트워크를 통해서 데이터를 주고받으려면 반드시 열어야 하는 창구 같은 것이다.** 컴퓨터 세계관에서는 프로세스가 데이터를 보내고 싶다고 해서 막 보낼 수 있는 게 아니고, 법칙이 있는데, 바로 보내는 쪽도 받는 쪽도 소켓을 열어야 한다는 점이다. 보내는 쪽이 소켓이라는 창구를 열고 소켓을 통해서 데이터를 보내면 네트워크 모델에 따라 목적지 호스트에 데이터가 도착하게 되고, 데이터를 담은 봉투에 써진 도착지의 포트 넘버와 같은 포트를 할당받은 프로세스를 찾아서, 그 프로세스의 소켓을 통해 해당 프로세스에 데이터를 전달한다.
소켓을 열기 위해선 호스트에 할당된 IP 주소, 포트 넘버, 프로토콜(Protocol) 등이 필요하며, 이 세 가지가 소켓을 정의한다.
<br/>
port와 socket의 차이점이라 한다면 프로세스가 네트워크 통신을 하기 위해서는 포트를 할당받아야 하는데, 서버의 경우에는 보통 하나만 할당받는다. 왜냐하면 같은 프로세스가 같은 포트를 가지고도 여러 개의 소켓을 열 수 있기 때문이다. 하지만 소켓의 경우 하나의 프로세스가 같은 프로토콜, 같은 IP 주소, 같은 포트 넘버를 가지는 수십 혹은 수만 개의 소켓을 가질 수 있다.
즉 정리하자면 호스트 프로세스 간 통신을 하기 위해서는 protocol, IP adrress, port number가 필요하고 이 것들로 인해 정의되는 socket이 필요하다. 내식대로 비유하자면 protocol은 택배를 보내는 방법, IP adrress는 아파트 이름, port number는 동, socket은 호 정도가 되지 않을까

[출처] 소켓(Socket) 포트(Port) 뜻과 차이|작성자 쉬운코드
